



Cassandra 中数据路由表是如何维护的？是谁负责更新路由？如果发生变更如何通知到整个集群？

Cassandra 使用一致性哈希算法将数据分布到集群中的各个节点，路由表中包含每个 partition 的副本所在节点。
当节点加入或离开集群时，Cassandra 会根据当前的拓扑结构更新路由表，这个过程由 Gossip 协议负责。
Cassandra 中没有单个节点负责更新整个集群的路由信息，而是所有节点共同维护这一信息。



Cassandra 中数据迁移？

新节点加入时，Cassandra 会根据分区策略决定哪些数据需要迁移到新节点上。
被选中的原节点会将其数据分区的一部分迁移到新节点。

具体步骤：
- 原节点将数据以流的形式发送到新节点。
- 新节点接收数据并将其存储在本地。
- 原节点在完成数据发送后会更新其路由表，表示数据已不再属于其管理。







